Version 4
SHEET 1 1280 680
WIRE 496 -32 464 -32
WIRE 592 -32 560 -32
WIRE 624 -32 592 -32
WIRE 736 -32 704 -32
WIRE 592 0 592 -32
WIRE 176 32 -32 32
WIRE 240 32 176 32
WIRE 320 32 304 32
WIRE 464 32 464 -32
WIRE 464 32 320 32
WIRE 736 32 736 -32
WIRE 960 32 736 32
WIRE 992 32 960 32
WIRE 1088 32 1056 32
WIRE 1216 32 1088 32
WIRE 176 64 176 32
WIRE 320 64 320 32
WIRE -32 96 -32 32
WIRE 464 96 464 32
WIRE 496 96 464 96
WIRE 592 96 592 64
WIRE 592 96 576 96
WIRE 736 96 736 32
WIRE 736 96 592 96
WIRE 960 96 960 32
WIRE 912 112 832 112
WIRE 1088 112 1088 32
WIRE 1216 112 1216 32
WIRE 128 128 48 128
WIRE 832 128 832 112
WIRE 176 160 176 144
WIRE 320 160 320 128
WIRE 320 160 176 160
WIRE 176 192 176 160
WIRE 128 256 112 256
WIRE -32 288 -32 176
WIRE 176 288 176 272
WIRE 176 288 -32 288
WIRE 576 288 176 288
WIRE 960 288 960 176
WIRE 960 288 576 288
WIRE 1088 288 1088 176
WIRE 1088 288 960 288
WIRE 1216 288 1216 192
WIRE 1216 288 1088 288
WIRE 48 368 48 128
WIRE 112 368 112 256
FLAG 128 208 0
FLAG 128 80 0
FLAG 832 208 0
FLAG 48 448 0
FLAG 112 448 0
FLAG 912 160 0
FLAG 576 288 0
SYMBOL voltage -32 80 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 20
SYMBOL sw 176 48 R0
SYMATTR InstName S1
SYMBOL sw 176 176 R0
SYMATTR InstName S2
SYMBOL ind 480 112 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 22m
SYMBOL diode 240 48 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL sw 960 80 R0
SYMATTR InstName S3
SYMBOL cap 1072 112 R0
SYMATTR InstName C1
SYMATTR Value 3.46µ
SYMBOL res 1200 96 R0
SYMATTR InstName R1
SYMATTR Value 100
SYMBOL diode 992 48 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMBOL cap 304 64 R0
SYMATTR InstName C2
SYMATTR Value 3.46µ
SYMBOL voltage 48 352 R0
WINDOW 3 -400 153 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(-1 1 0 0 0 {0.2m*{PWM12}} 0.2m)
SYMATTR InstName V1
SYMBOL voltage 112 352 R0
WINDOW 3 -350 224 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(1 -1 0 0 0 {0.2m*{PWM12}} 0.2m)
SYMATTR InstName V3
SYMBOL diode 496 -16 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMBOL ind 608 -16 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value 22m
SYMBOL cap 576 0 R0
SYMATTR InstName C3
SYMATTR Value 3.46µ
SYMBOL voltage 832 112 R0
WINDOW 3 -205 250 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(-1 1 0 0 0 {0.2m*{PWM3}} 0.2m)
SYMATTR InstName V4
TEXT 1080 512 Left 2 !.tran 0.025
TEXT 1080 536 Left 2 !.model SW SW()
TEXT -32 -216 Left 2 !.param PWM12=0.2 PWM3=50
