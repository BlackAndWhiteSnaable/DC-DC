Version 4
SHEET 1 1052 680
WIRE 352 32 144 32
WIRE 416 32 352 32
WIRE 496 32 480 32
WIRE 880 32 496 32
WIRE 976 32 880 32
WIRE 352 64 352 32
WIRE 496 64 496 32
WIRE 144 96 144 32
WIRE 976 112 976 32
WIRE 304 128 224 128
WIRE 880 128 880 32
WIRE 352 160 352 144
WIRE 496 160 496 128
WIRE 496 160 352 160
WIRE 352 192 352 160
WIRE 304 256 288 256
WIRE 144 288 144 176
WIRE 352 288 352 272
WIRE 352 288 144 288
WIRE 576 288 352 288
WIRE 880 288 880 192
WIRE 880 288 576 288
WIRE 976 288 976 192
WIRE 976 288 880 288
WIRE 224 320 224 128
WIRE 288 320 288 256
FLAG 304 208 0
FLAG 304 80 0
FLAG 224 400 0
FLAG 288 400 0
FLAG 576 288 0
SYMBOL voltage 144 80 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 20
SYMBOL sw 352 48 R0
SYMATTR InstName S1
SYMBOL sw 352 176 R0
SYMATTR InstName S2
SYMBOL diode 416 48 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL res 960 96 R0
SYMATTR InstName R1
SYMATTR Value 1000
SYMBOL cap 480 64 R0
SYMATTR InstName C2
SYMATTR Value 3.46µ
SYMBOL voltage 224 304 R0
WINDOW 3 -400 153 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(-1 1 0 0 0 {0.2m*{PWM}} 0.2m)
SYMATTR InstName V1
SYMBOL voltage 288 304 R0
WINDOW 3 -350 224 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(1 -1 0 0 0 {0.2m*{PWM}} 0.2m)
SYMATTR InstName V3
SYMBOL cap 864 128 R0
SYMATTR InstName C1
SYMATTR Value 3.46µ
TEXT 816 520 Left 2 !.tran 0.1
TEXT 816 544 Left 2 !.model SW SW()
TEXT 136 -48 Left 2 !.param PWM=0.80
